# 2-6 セキュリティ/RLS
- RLS: Supabaseでowner_idベースのRLSを有効化し、insert/select/update/deleteで`auth.uid() = owner_id`をチェックするポリシーを適用。
- 通信: HTTPS前提。クライアントには秘匿キーを埋め込まない。Service Roleキーはサーバ専用。
- データ整合: tombstone(`deleted`フラグ)でソフトデリートし、`updated_at`で更新順序を管理。同期時は衝突解決を実施。
- ロギング/監視: Sentryでエラー・性能を監視し、PIIは含めない運用とする。
- 権限/分離: GPTキー・Service Roleキーの保護、最小権限原則、開発/本番環境の分離を徹底。
