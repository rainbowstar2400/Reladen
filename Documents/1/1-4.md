# 1-4 スコープ

本仕様書は、Reladen の PWA 版および Tauri デスクトップ版に共通するゲームロジック、
データ構造、UI 挙動を対象とし、以下の機能群について詳細な仕様を定義する。

---

## ■ コアシミュレーション領域

- **住人管理**
  - 住人の登録・編集・削除、および性格パラメータ（MBTI・スライダー項目）や話し方プリセット等の属性管理。

- **会話生成および GPT API 利用方針**
  - 会話生成ロジック、プロンプト設計方針、住人ペア選択ロジック。
  - 会話ログの生成ルール（関係変化等の表記形式を含む）。

- **イベント・スケジューラ**
  - 住人同士の会話、発火条件、活動時間帯と就寝状態による挙動。
  - 相談（プレイヤー介入イベント）の発生・回答・完了フロー。

- **関係モデル**
  - 関係（認知・友達・親友・恋人等）、印象、信頼度の保持・遷移ロジック。
  - 好感度変化、自然減衰、関係変化の発生条件。

- **WorldFacts / Topic 管理**
  - WorldFacts を「世界の記録」として扱う方針。
  - Topic 生成ロジック、会話への利用方針、整合性維持のためのルール。

---

## ■ 世界観補助機能（詳細仕様を含む正式機能）

以下の機能群は「コアではない補助要素」であるが、Reladen の体験を支える正式な構成要素として扱い、
必要に応じて **詳細仕様を本仕様書で定義する**。

- **新聞**
  会話や WorldFacts を基にした世界の簡易要約表示。

- **天気**
  世界の雰囲気要素（会話影響要素も含む）。

- **掲示板**
  住人による間接的な投稿表現、Topic 起点としての利用可能性。

- **複数人会話**
  通常の会話ロジックの拡張として扱う。発火条件・ログ整形仕様を含む。

- **実績（Achievements）**
  プレイヤー行動・住人行動に基づくフィードバック機能。

---

## ■ UI・画面構成

- メイン画面構造（お知らせ、みんなの様子、新聞）。
- 住人一覧／詳細／日報画面（関係・感情・好感度・会話履歴の確認）。
- 設定画面およびヘルプ画面の構成指針。

---

## ■ データ保存・同期

- Supabase（Postgres）と IndexedDB/Tauri ローカル DB を用いたデータ保持方針。
- オンライン・オフライン時の動作、同期ポリシー、競合回避方針の概要。

---

## ■ 本仕様書で対象外とする事項（将来拡張を含む）

以下は本仕様書の範囲外とし、必要に応じて別途ドキュメントで扱う。

- 多言語対応
- 課金・サブスクリプション・広告等のマネタイズ要素
- 外部 SNS / 外部サービス連携（X, Discord など）
- ボイス実装・立ち絵・画像生成などのリッチメディア要素
- モバイルネイティブアプリ固有機能（プッシュ通知 等）
- 管理者向けツール類（メトリクス画面、内部ダッシュボード等）
